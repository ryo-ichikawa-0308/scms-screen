<div class="login-container">
    <mat-card class="login-card">
        <mat-card-header>
            <mat-card-title>ログイン</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form (ngSubmit)="handleLogin()" #loginForm="ngForm">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>メールアドレス</mat-label>
                    <input matInput type="email" [(ngModel)]="email" name="email" required>
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width margin-top">
                    <mat-label>パスワード</mat-label>
                    <input matInput type="password" [(ngModel)]="password" name="password" required>
                </mat-form-field>

                @if (errorMessage) {
                    <div class="error-message">
                        {{ errorMessage }}
                    </div>
                }
            </form>
        </mat-card-content>
        <mat-card-actions class="button-container">
            <button 
                mat-raised-button 
                color="primary" 
                class="full-width" 
                [disabled]="!loginForm.valid || isLoading"
                (click)="handleLogin()">
                @if (isLoading) {
                    <mat-icon class="spinner">autorenew</mat-icon>
                }
                ログイン
            </button>
        </mat-card-actions>
    </mat-card>
</div>