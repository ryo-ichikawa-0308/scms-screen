<main class="service-list-main container">

  <!-- 検索フォームエリア -->
  <section class="search-form-card">
    <div class="input-group">
      <app-textbox
        [id]="'serviceName'"
        type="text"
        label="サービス名"
        placeholder="サービス名を入力"
        [(ngModel)]="serviceName"
        name="serviceName"
        [required]="false">
      </app-textbox>
    </div>

    <app-button (click)="searchServices()" buttonType="primary" class="search-button">
      検索
    </app-button>
  </section>

  <!-- リストグリッド表示エリア -->
  <section class="grid-area">
    <h2>検索結果一覧 ({{ pagingConfig().totalItems }}件)</h2>
    <app-list-grid [data]="data()" [headers]="gridHeaders" [pagingConfig]="pagingConfig()" keyField="id"
      (recordClick)="onRecordClick($event)" (pageChange)="onPageChange($event)">
    </app-list-grid>
  </section>

</main>

<!-- サービス詳細モーダルポップアップの呼び出し -->
<!-- isModalOpen() が true で、かつ selectedServiceDetail() にデータがある場合に表示 -->
@if (isModalOpen() && selectedServiceDetail()) {
<app-service-detail [serviceDetail]="selectedServiceDetail()" (closeModal)="closeModal()">
</app-service-detail>
}