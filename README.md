# scms-screen

本作品群は、[simple-contract-management-system](https://github.com/ryo-ichikawa-0308/simple-contract-management-system)の画面資産です。

Angularで実装しています。

## 画面一覧

### ログイン画面

- メールアドレスとパスワードを入力して、システムにログインする。

### サービス一覧画面

- ユーザー提供サービステーブルに基づいて、提供されているサービスを一覧表示する。
- サービスを選択すると、サービス詳細画面をモーダル表示する。
- ログイン後、最初に表示される画面である。

### 契約一覧画面

- 契約テーブルに基づいて、契約中のサービス一覧を表示する。
- サービスを選択すると、サービス詳細画面をモーダル表示する。

### サービス詳細画面

- サービスの詳細を表示する。
- サービス一覧画面から表示した場合は当該サービスの契約が可能である。
- 契約一覧画面から表示した場合は当該サービスの解約が可能である。

### ハンバーガーメニュー

- サービス一覧画面、契約一覧画面、ログアウトを提供する。
- ユーザーがログアウト状態の場合は、固定テキスト「ログインしてください」のみ表示する。

## コンポーネント

画面実装のため、下記のコンポーネントを提供する。各画面は、これらのコンポーネントの組み合わせによって作成される。

### ヘッダ

- 各画面の上部に共通的に表示される、システム名、ログインユーザー名を表示するための部品。

### フッタ

- 各画面の下部に共通的に表示される、コピーライトを表示するための部品。

### モーダル

- ボタン押下等を契機にポップアップし、ユーザーにアクションを強制するための部品。
- ユーザーのアクション(クローズボタン押下等)をきっかけに、指定された処理を行って画面を閉じる。
- モーダル表示時に、キーボード操作のフォーカスがモーダル内部に閉じ込められる。
- モーダル外の領域(オーバーレイ)をクリックした際にモーダルを閉じるか否かは、親コンポーネントからプロパティで与えられる。
  - ユーザーアクションを強制する場面(例: 重要な警告)ではクローズ不可とする。

### ボタン

- クリックすることで、特定の処理を開始するための部品。

### テーブルグリッド

- 単一の詳細データを表形式で表示するための部品。

### リストグリッド

- 配列形式のデータを表示するための部品。

### ページング

- リストグリットに付属する、配列の一部のみを切り替え方式で表示するための部品。
- 最初のページ・前のページ・次のページ・最後のページへの遷移を行うボタンと、ページ番号指定での直接遷移を行うテキストリンクを提供する。
- 引数で、以下の項目を受け取る。
  - `totalItems`: `number` // リストの件数
  - `currentPage`: `number` // 現在のページ番号
  - `itemsPerPage`: `number` // 1ページあたり表示する件数
  - `maxPageLinks`: `number` // 同時に表示可能なページ番号の最大件数
- ページ番号指定は、下記のロジックで表示する。
  - 同時に表示可能なページ番号の件数を`maxPageLinks`とする。(例: `maxPageLinks`=5)
  - `maxPageLinks`/2以下の最大の整数を`M`とする。(例: `M`=2)
  - `currentPage`が`M`以下の場合、1～`maxPageLinks`の固定表示とする。(例: 1 2 3 4 5)
  - `currentPage`が`M`より大きく、かつ、最終ページ番号-M以下の場合、`currentPage`-`M`から`currentPage`+`M`の変動表示とする。(例: 2 3 4 5 6)
  - `currentPage`が最終ページ番号-`M`以上の場合、最終ページから`maxPageLinks`ページまでの固定表示とする。(例: 3 4 5 6 7)
  - いずれも、自ページ番号はテキストのみとし、自ページ以外の番号は、当該ページに遷移するリクエストを発行するハイパーリンクを設定する。
- データ数が少ない場合、先頭ページ・末尾ページでは、論理的に遷移不可となる部品は不活性化される。また、ページ番号リンクは遷移可能なページ分のみ表示する。
- ページ遷移ボタンの画像は、デフォルトで使用するものはコンポーネント内で定義し、親コンポーネントからの上書きを可とする。
